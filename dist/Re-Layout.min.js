/*! Re-Layout - v0.1.0 - 2013-01-11
* https://github.com/seltar/Re-Layout
* Copyright (c) 2013 Yonas Sandb√¶k - yonas.sandbaek@creuna.no - creuna.no
* Licensed MIT
 */
(function(e,t,n,r){function o(n,r){this._name=i,this._defaults=e[i].defaults,this.element=n,this.$el=e(this.element),this.options=e.extend({},this._defaults,r),this.init(),this.order(this.options.width||e(t).width());var s=this;e(t).resize(function(n){s.order(e(t).width())})}var i="relayout",s={breakpoints:{mobile:320,tablet:720,desktop:960},width:0};o.prototype.init=function(){var t=this,n=0,i=0,s=0,o=this.$el.children(),u=e.extend({},t.options.breakpoints),a=e.extend({},t.options.breakpoints);for(n in u){u[n]=[],a[n]=[];for(i=0,s=o.length;i<s;i++)u[n][i]=null}o.each(function(){for(var t in u){var i=e(this).data("index-"+t);if(i===r){a[t].push(this);continue}u[n][t]||(u[t][i]=this)}});for(var f in u){var l=0;for(i=0,s=u[n].length;i<s;i++)u[f][i]===null&&(u[f][i]=a[f][l++])}t.ordered=u},o.prototype.order=function(e){var t=null;for(var n in this.options.breakpoints){t===null&&(t=n);if(!(e>=this.options.breakpoints[n]))break;t=n}for(var r=0,i=this.ordered[t].length;r<i;r++)this.$el.append(this.ordered[t][r])},e.fn.filterAttribute=function(t){var n,r,i,s=[],o=new RegExp("^"+t,"i");return e(this).each(function(){var e=this.attributes;e:for(i=0;i<e.length;i++)if(o.test(e[i].name)){s.push(this);break e}}),e(s)},e.fn[i]=function(t,n){return typeof t=="string"?this.each(function(){var r=e.data(this,"plugin_"+i);r&&typeof r[t]=="function"&&(typeof n=="array"?r[t].apply(r,n):r[t].call(r,n))}):this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))})},e[i]={defaults:s}})(jQuery,window,document);